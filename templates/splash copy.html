<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- Metadatos para dispositivos móviles -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Fofigest</title>

    <!-- Fuentes e iconos personalizados -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,300,400,600,700,900" rel="stylesheet">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="manifest" href="{{ url_for('static', filename='js/manifest.json') }}">
    <script src="{{ url_for('static', filename='js/sw.js') }}"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <!--<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">-->
    <link rel="icon" href="{{ url_for('static', filename='img/logo_F-Photoroom.ico') }}" type="image/x-icon">
    <script src="https://unpkg.com/frappe-gantt/dist/frappe-gantt.umd.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/frappe-gantt/dist/frappe-gantt.css">
    <!-- Estilos globales -->
    <link rel="stylesheet" href="https://unpkg.com/frappe-gantt/dist/frappe-gantt.css">
    <title>Fofigest</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <!--pwa-->
  <!-- Favicon para navegadores -->
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='img/logo_F-Photoroom.ico') }}">
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='img/logo_F-Photoroom.ico') }}">

  <!-- Icono para PWA y dispositivos Apple -->
  <link rel="apple-touch-icon" href="{{ url_for('static', filename='img/logo_F-Photoroom.ico') }}" type="image/png">

  <meta name="theme-color" content="#317EFB"/>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="{{url_for('static', filename='img/logo_F-Photoroom.ico')}}" type="image/png">
  <link rel="icon" href="{{url_for('static', filename='img/logo_F-Photoroom.ico')}}" type="image/png">
  <link rel="icon" href="{{url_for('static', filename='img/logo_F-Photoroom.ico')}}" type="image/png">
  <link rel="apple-touch-icon" href="{{url_for('static', filename='img/logo_F-Photoroom.png')}}" type="image/png">
  <link rel="apple-touch-icon" href="{{url_for('static', filename='img/logo_F-Photoroom.png')}}" type="image/png">
  <link rel="apple-touch-icon" href="{{url_for('static', filename='img/logo_F-Photoroom.png')}}" type="image/png">
  <link rel="manifest" href="{{ url_for('static', filename='js/manifest.json') }}">
  <script src="{{ url_for('static', filename='js/sw.js') }}"></script>

  <!-- Color de la barra del navegador en móviles Android (Chrome) -->
  <meta name="theme-color" content="#000000">

  <!-- Safari/iOS: color de la barra superior cuando está anclado como app web -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Windows (Internet Explorer/Edge) -->
  <meta name="msapplication-TileColor" content="#000000">

    <!-- Estilos personalizados -->
    <style>
        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(to right, rgba(93, 173, 226, 0.8), rgba(52, 152, 219, 0.8)),
                url('https://cdn.pixabay.com/photo/2017/08/30/11/36/background-2698595_1280.jpg');
            background-size: cover;
            background-position: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        .splash-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
            color: white;
            text-align: center;
            padding: 0 2rem;
            opacity: 0;
            animation: fadeIn 2s forwards;
        }

        .splash-content img {
            width: 0;
            margin-bottom: 1.5rem;
            background-color: white;
            border-radius: 10%;
            padding: 1rem;
            animation: zoomIn 2s forwards;
            animation-delay: 0.5s;
        }

        .progress-bar {
            width: 80%;
            height: 10px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            overflow: hidden;
            margin-top: 20px;
            animation: progressBarAppear 1s forwards;
            animation-delay: 2.5s;
            opacity: 0;
        }

        .progress-bar .progress {
            width: 0%;
            height: 100%;
            background-color: white;
            animation: progressFill 3s linear forwards;
            animation-delay: 3.5s;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        @keyframes zoomIn {
            to {
                width: 200px;
            }
        }

        @keyframes progressBarAppear {
            to {
                opacity: 1;
            }
        }

        @keyframes progressFill {
            to {
                width: 100%;
            }
        }
    </style>
    <!--pwa-->
  <!-- Favicon para navegadores -->
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='img/logo_F-Photoroom.ico') }}">

  <!-- Icono para PWA y dispositivos Apple -->
  <link rel="apple-touch-icon" href="{{ url_for('static', filename='img/logo_F-Photoroom.png') }}" type="image/png">

  <meta name="theme-color" content="#317EFB"/>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="{{url_for('static', filename='img/ilogo_F-Photoroom.png')}}" type="image/png">
  <link rel="icon" href="{{url_for('static', filename='img/logo_F-Photoroom.png')}}" type="image/png">
  <link rel="icon" href="{{url_for('static', filename='img/logo_F-Photoroom.png')}}" type="image/png">
  <link rel="apple-touch-icon" href="{{url_for('static', filename='img/logo_F-Photoroom.png')}}" type="image/png">
  <link rel="apple-touch-icon" href="{{url_for('static', filename='img/logo_F-Photoroom.png')}}" type="image/png">
  <link rel="apple-touch-icon" href="{{url_for('static', filename='img/logo_F-Photoroom.png')}}" type="image/png">
  <link rel="manifest" href="{{ url_for('static', filename='js/manifest.json') }}">
  <script src="{{ url_for('static', filename='js/sw.js') }}"></script>
</head>

<body>
    <div class="container d-flex justify-content-center align-items-center h-100">
        <div class="card text-white bg-dark shadow-lg" style="width: 20rem;">
            <div class="card-body text-center splash-content">
                <img src="static/img/Logo.png" alt="Logo" class="card-img-top">
                <h1 class="card-title">Bienvenido a FOFIGEST</h1>
                <p class="card-text">Gestión eficiente y sencilla de tus proyectos</p> <!-- "/Reporte-Horas{{ session['empresa'] }}"-->
                <p class="card-text"><small class="text-muted">versión 1.0</small></p>
                <div class="progress-bar">
                    <div class="progress"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Redirigir después de que terminen las animaciones
        document.addEventListener("DOMContentLoaded", function () {
            const redirectTo = "/Reporte-Horas{{ session['empresa'] }}";

            // Seleccionamos el elemento de progreso
            const progressElement = document.querySelector('.progress-bar .progress');

            // Escuchamos el evento 'animationend' de la barra de progreso
            progressElement.addEventListener('animationend', function () {
                window.location.href = redirectTo;
            });
        });
    </script>
</body>
<!--pwa-->
<script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register("/sw.js").then(function(registration) {
          console.log('ServiceWorker registration successful with scope: ', registration.scope);
        }, function(err) {
          console.log('ServiceWorker registration failed: ', err);
        });
      });
    }
  </script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register("{{ url_for('static', filename='js/sw.js') }}")
            .then(function(registration) {
                console.log('Service Worker registrado con éxito:', registration.scope);
            })
            .catch(function(error) {
                console.log('Error en el registro del Service Worker:', error);
            });
        } else {
            console.log('Service Worker no es compatible con este navegador.');
        }
    </script>
</html>
